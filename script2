#Time zone
ln -sf /usr/share/zoneinfo/Europe/London /etc/localtime
timedatectl set-ntp true 

read -rsp $'Press any key to continue...\n' -n1 key

#Localisation
sed -i '/^#en_GB.UTF*/ s/^#//' /etc/locale.gen
locale-gen
echo LANG=en_GB.UTF-8 > /etc/locale.conf  
echo KEYMAP=uk.map.gz > /etc/vconsole.conf

read -rsp $'Press any key to continue...\n' -n1 key

#Set root password
#echo "Set root password"
#passwd root

#Create user
useradd -m -G wheel -s /bin/bash adrian
passwd adrian

#Set hostname
echo arch > /etc/hostname

#Install bootctl
bootctl install

#Configure  EFI
echo title Archlinux > /boot/loader/entries/arch.conf
echo linux /vmlinuz-linux >> /boot/loader/entries/arch.conf
echo initrd /initramfs-linux.img >> /boot/loader/entries/arch.conf
echo options root=PARTUUID="$(findmnt -fn -o PARTUUID /dev/sda3)" rw >> /boot/loader/entries/arch.conf

#Wireless-yes[******NOT WORKING******]
pacman -S wireless_tools
pacman -S dialog 
pacman -S wpa_supplicant 

#echo Description="'Script generated profile'" > /etc/netctl/wireless_profile 
#echo Interface="$(iwconfig 2>/dev/null | grep -o "^\w*")" >> /etc/netctl/wireless_profile 
#echo Connection=wireless >> /etc/netctl/wireless_profile 
#echo Security=wpa >> /etc/netctl/wireless_profile 
#echo IP=dhcp >> /etc/netctl/wireless_profile 
#echo ESSID=XXXXXXXXX >> /etc/netctl/wireless_profile
#echo key=XXXXXXXX >> /etc/netctl/wireless_profile 
#netctl enable wireless_profile
#netctl start wireless_profile

# configure sudo 
#sed -i 's/# %wheel ALL=(ALL) ALL/%wheel ALL=(ALL) ALL/' /etc/sudoers

#Install xorg
pacman -S xorg xorg-server

#Install #xfce
pacman -S xfce4 xfce4-goodies 

#Install slim
pacman -S slim 
systemctl start slim.service              
systemctl enable slim.service 

echo exec startxfce4 > /home/adrian/.xinitrc

#Remove script
rm script*



